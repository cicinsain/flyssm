<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>SimAnn: lam/MPI.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lam/MPI.h File Reference</h1>
<p><a href="MPI_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="MPI_8h.html#a2c336b253a8c93bc9ae162ea4ea0e120">UpdateLParameter</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="MPI_8h.html#a53739d4ae5bae8ce8f96188290bebbb6">DoMix</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="MPI_8h.html#a63fbdc42c454e86bf65c7ce9ddfa4c97">DoFixMix</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="MPI_8h.html#a392434da8fd267c28457251c6be936e3">MakeLamMsg</a> (double **sendbuf)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="MPI_8h.html#a85ed14ba60fcf0779145ae4677b8b6fc">AcceptLamMsg</a> (double *recvbuf)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="MPI_8h.html#a56398ede48648f36cfc5975af4283937">InitTuning</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="MPI_8h.html#a95e4d47c2fd9172d156d07bf683ea242">DoTuning</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="MPI_8h.html#aa585bf49c0a06f7e279c674409964fe1">WriteTuning</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="MPI_8h.html#a187a677b9e64ba43ec6d9b882b10471c">StopTuning</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="MPI_8h.html#a42e002dd138ca09a8ccdc1b5b9164f51">MakeStateMsg</a> (long **longbuf, int *lsize, double **doublebuf, int *dsize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="MPI_8h.html#a0f022d81ce71ffb46b30d6f2afdd15fc">AcceptStateMsg</a> (long *longbuf, double *doublebuf)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a489d8e7dccbab44d1830e73395beb00c"></a><!-- doxytag: member="MPI.h::MAX_MIX" ref="a489d8e7dccbab44d1830e73395beb00c" args="" -->
const int&nbsp;</td><td class="memItemRight" valign="bottom"><b>MAX_MIX</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9408f96d87913ea03a6c84cac52723d0"></a><!-- doxytag: member="MPI.h::GROUP_SIZE" ref="a9408f96d87913ea03a6c84cac52723d0" args="" -->
const int&nbsp;</td><td class="memItemRight" valign="bottom"><b>GROUP_SIZE</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5fdf520005135ea9067e1de9179cb646"></a><!-- doxytag: member="MPI.h::STOP_TUNE_CNT" ref="a5fdf520005135ea9067e1de9179cb646" args="" -->
const int&nbsp;</td><td class="memItemRight" valign="bottom"><b>STOP_TUNE_CNT</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a45a2d3c4a2a70ce9a969b7f1f4e41f52"></a><!-- doxytag: member="MPI.h::STOP_TUNE_CRIT" ref="a45a2d3c4a2a70ce9a969b7f1f4e41f52" args="" -->
const int&nbsp;</td><td class="memItemRight" valign="bottom"><b>STOP_TUNE_CRIT</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa3e4b2ed0d35a6602e8c396d95bc1dbc"></a><!-- doxytag: member="MPI.h::LSTAT_LENGTH" ref="aa3e4b2ed0d35a6602e8c396d95bc1dbc" args="" -->
const int&nbsp;</td><td class="memItemRight" valign="bottom"><b>LSTAT_LENGTH</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a51854984b60eb941ce6d0502c7d91925"></a><!-- doxytag: member="MPI.h::LSTAT_LENGTH_TUNE" ref="a51854984b60eb941ce6d0502c7d91925" args="" -->
const int&nbsp;</td><td class="memItemRight" valign="bottom"><b>LSTAT_LENGTH_TUNE</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a20705b4372a9940d34a164bae541be1f"></a><!-- doxytag: member="MPI.h::myid" ref="a20705b4372a9940d34a164bae541be1f" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>myid</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a824ac1af8a4229ed37411081a1ffd928"></a><!-- doxytag: member="MPI.h::nnodes" ref="a824ac1af8a4229ed37411081a1ffd928" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>nnodes</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac12aec46d561cff2caffc35ef7bfc40f"></a><!-- doxytag: member="MPI.h::tuning" ref="ac12aec46d561cff2caffc35ef7bfc40f" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>tuning</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a68fcc7e9a69861f5561d7bee6f1a305a"></a><!-- doxytag: member="MPI.h::covar_index" ref="a68fcc7e9a69861f5561d7bee6f1a305a" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>covar_index</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a356f27c3b3cb26bd8170fc7555050827"></a><!-- doxytag: member="MPI.h::write_tune_stat" ref="a356f27c3b3cb26bd8170fc7555050827" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>write_tune_stat</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7470a7f95b4c01f7e1ca9c6a8af36514"></a><!-- doxytag: member="MPI.h::auto_stop_tune" ref="a7470a7f95b4c01f7e1ca9c6a8af36514" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>auto_stop_tune</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4806bd9eddfa4f6a6e113bc0471bcfa3"></a><!-- doxytag: member="MPI.h::write_llog" ref="a4806bd9eddfa4f6a6e113bc0471bcfa3" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>write_llog</b></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>written by John Reinitz modified by King-Wai Chu and Johannes Jaeger</p>
<p>last modified, 06/13/2002</p>
<p>IMPORTANT: IF YOU EVER CHANGE ANYTHING IN THIS FILE, LET ALL YOUR FELLOW PROGRAMMERS KNOW WELL IN ADVANCE AND CONSULT WITH THEM IF THEY AGREE ON YOUR CHANGES!!</p>
<p><a class="el" href="MPI_8h.html">MPI.h</a> contains structs and constants that are specific to parallel annealing code using MPI.</p>
<p>This includes prototypes for all the tuning functions below.</p>
<p>There are two problem-specific functions declared below that need to be defined in move(s).c.</p>
<p>NOTE: this header only contains prototypes for functions used for parallel annealing code only; all prototypes of functions that include serial code need to go into <a class="el" href="sa_8h.html">sa.h</a> </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a85ed14ba60fcf0779145ae4677b8b6fc"></a><!-- doxytag: member="MPI.h::AcceptLamMsg" ref="a85ed14ba60fcf0779145ae4677b8b6fc" args="(double *recvbuf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AcceptLamMsg </td>
          <td>(</td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>recvbuf</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>AcceptLamMsg: receives new energy and Lam stats upon mixing </p>

</div>
</div>
<a class="anchor" id="a0f022d81ce71ffb46b30d6f2afdd15fc"></a><!-- doxytag: member="MPI.h::AcceptStateMsg" ref="a0f022d81ce71ffb46b30d6f2afdd15fc" args="(long *longbuf, double *doublebuf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AcceptStateMsg </td>
          <td>(</td>
          <td class="paramtype">long *&nbsp;</td>
          <td class="paramname"> <em>longbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>doublebuf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>AcceptMsg: communicates a message about move stats received via MPI to move(s).c; see the comment for MakeStateMsg for the ra- tionale behind the two arrays that are passed </p>

</div>
</div>
<a class="anchor" id="a63fbdc42c454e86bf65c7ce9ddfa4c97"></a><!-- doxytag: member="MPI.h::DoFixMix" ref="a63fbdc42c454e86bf65c7ce9ddfa4c97" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DoFixMix </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>DoFixMix: for equilibration run, we only need to pass the move state since Lam stats are not needed at constant temperature </p>

</div>
</div>
<a class="anchor" id="a53739d4ae5bae8ce8f96188290bebbb6"></a><!-- doxytag: member="MPI.h::DoMix" ref="a53739d4ae5bae8ce8f96188290bebbb6" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DoMix </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>DoMix: does the mixing; sends move state and local Lam stats to the dance partner(s) </p>

</div>
</div>
<a class="anchor" id="a95e4d47c2fd9172d156d07bf683ea242"></a><!-- doxytag: member="MPI.h::DoTuning" ref="a95e4d47c2fd9172d156d07bf683ea242" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DoTuning </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>DoTuning: calculates the cross-correlation (for lower bound) and the variance of local means (for upper bound) for a sub_tune_ interval; the results are added to arrays, which span the whole tuning_interval; when these values get written to the 'bound' files, they will be divided by the number of mixes we have done already to average them out (see also King-Wai Chu's thesis, p. 63) </p>

</div>
</div>
<a class="anchor" id="a56398ede48648f36cfc5975af4283937"></a><!-- doxytag: member="MPI.h::InitTuning" ref="a56398ede48648f36cfc5975af4283937" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InitTuning </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>InitTuning: sets up/restores structs and variables for tuning runs </p>

</div>
</div>
<a class="anchor" id="a392434da8fd267c28457251c6be936e3"></a><!-- doxytag: member="MPI.h::MakeLamMsg" ref="a392434da8fd267c28457251c6be936e3" args="(double **sendbuf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MakeLamMsg </td>
          <td>(</td>
          <td class="paramtype">double **&nbsp;</td>
          <td class="paramname"> <em>sendbuf</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>MakeLamMsg: packages local Lam stats into send buffer </p>

</div>
</div>
<a class="anchor" id="a42e002dd138ca09a8ccdc1b5b9164f51"></a><!-- doxytag: member="MPI.h::MakeStateMsg" ref="a42e002dd138ca09a8ccdc1b5b9164f51" args="(long **longbuf, int *lsize, double **doublebuf, int *dsize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MakeStateMsg </td>
          <td>(</td>
          <td class="paramtype">long **&nbsp;</td>
          <td class="paramname"> <em>longbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>lsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double **&nbsp;</td>
          <td class="paramname"> <em>doublebuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>dsize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>MakeStateMsg: function to prepare a message which is then passed to other nodes via MPI telling the other nodes about move stats; since we don't know about the move state structs, but can assume that we'll only have to send longs and doubles, we split the message in two arrays, one for the longs and one for the doubles; then we re- turn the arrays and their sizes for <a class="el" href="lsa_8c.html">lsa.c</a> to send them to the dance partners</p>
<p>note that all the arguments need to get passed by refe- rence since we need to allocate the arrays according to their problem-specific size in move(s).c </p>

</div>
</div>
<a class="anchor" id="a187a677b9e64ba43ec6d9b882b10471c"></a><!-- doxytag: member="MPI.h::StopTuning" ref="a187a677b9e64ba43ec6d9b882b10471c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int StopTuning </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>StopTuning: is to tuning runs what <a class="el" href="lsa_8c.html#af1f7f727fc1eb8fadaf6771b9c16e977">Frozen()</a> is to a normal annealing run: it basically checks if the tuning stop criterion applies and returns true if that's the case </p>

</div>
</div>
<a class="anchor" id="a2c336b253a8c93bc9ae162ea4ea0e120"></a><!-- doxytag: member="MPI.h::UpdateLParameter" ref="a2c336b253a8c93bc9ae162ea4ea0e120" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpdateLParameter </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>UpdateLParameter: update local parameters l_A, l_B, l_D and l_E and the local estimators for mean and standard deviation for both upper and lower bounds of M_Opt for the current S </p>

</div>
</div>
<a class="anchor" id="aa585bf49c0a06f7e279c674409964fe1"></a><!-- doxytag: member="MPI.h::WriteTuning" ref="aa585bf49c0a06f7e279c674409964fe1" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WriteTuning </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>WriteTuning: writes tuning stats to files ever tune_interval </p>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 5 Jun 2013 for SimAnn by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
